# 3-9 numpy 中的 arg 运算

## 索引


```python
import numpy as np
```


```python
x = np.random.normal(0, 1, size=1000000)
```


```python
np.min(x)
```




    -5.0205466823889635




```python
# 获取最小值得索引
np.argmin(x)
```




    409452




```python
x[409452]
```




    -5.0205466823889635




```python
# 获取最大值的索引
np.argmax(x)
```




    977441




```python
x[977441]
```




    4.704676308892603




```python
np.max(x)
```




    4.704676308892603



## 排序和使用索引


```python
x = np.arange(16)
x
```




    array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15])




```python
# 打乱顺序
np.random.shuffle(x)
x
```




    array([10, 13, 12,  5, 14,  3,  0,  2,  7,  9,  1,  6,  4, 15, 11,  8])




```python
# 排序(不改变x)
np.sort(x)
```




    array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15])




```python
x
```




    array([10, 13, 12,  5, 14,  3,  0,  2,  7,  9,  1,  6,  4, 15, 11,  8])




```python
# 原地排序
x.sort()
x
```




    array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15])




```python
# 二维矩阵
X = np.random.randint(10, size=(4, 4))
X
```




    array([[9, 5, 5, 8],
           [5, 4, 3, 8],
           [6, 6, 8, 0],
           [7, 6, 1, 0]])




```python
np.sort(X)
```




    array([[5, 5, 8, 9],
           [3, 4, 5, 8],
           [0, 6, 6, 8],
           [0, 1, 6, 7]])




```python
np.sort(X, axis=1)
```




    array([[5, 5, 8, 9],
           [3, 4, 5, 8],
           [0, 6, 6, 8],
           [0, 1, 6, 7]])




```python
np.sort(X, axis=0)
```




    array([[5, 4, 1, 0],
           [6, 5, 3, 0],
           [7, 6, 5, 8],
           [9, 6, 8, 8]])




```python
x
```




    array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15])




```python
np.random.shuffle(x)
x
```




    array([ 3, 14, 13,  5, 12,  7,  6,  8,  9, 15, 10,  0,  1,  2, 11,  4])




```python
np.argsort(x)
```




    array([11, 12, 13,  0, 15,  3,  6,  5,  7,  8, 10, 14,  4,  2,  1,  9])




```python
np.partition(x, 3) # 3 为标准值 (可以应用于切片)
```




    array([ 0,  1,  2,  3,  4,  7,  6, 14,  9, 15, 10, 12,  5, 13, 11,  8])




```python
np.partition(x, 666) # 666 这个值不存在 x
```


    ---------------------------------------------------------------------------

    ValueError                                Traceback (most recent call last)

    <ipython-input-31-ee0061cd53c2> in <module>
    ----> 1 np.partition(x, 666)
    

    <__array_function__ internals> in partition(*args, **kwargs)


    ~/anaconda3/envs/imooc-ml/lib/python3.6/site-packages/numpy/core/fromnumeric.py in partition(a, kth, axis, kind, order)
        746     else:
        747         a = asanyarray(a).copy(order="K")
    --> 748     a.partition(kth, axis=axis, kind=kind, order=order)
        749     return a
        750 


    ValueError: kth(=666) out of bounds (16)



```python
np.argpartition(x, 3)
```




    array([11, 12, 13,  0, 15,  5,  6,  1,  8,  9, 10,  4,  3,  2, 14,  7])




```python
X
```




    array([[9, 5, 5, 8],
           [5, 4, 3, 8],
           [6, 6, 8, 0],
           [7, 6, 1, 0]])




```python
np.argsort(X, axis=1)
```




    array([[1, 2, 3, 0],
           [2, 1, 0, 3],
           [3, 0, 1, 2],
           [3, 2, 1, 0]])




```python
np.argsort(X, axis=0)
```




    array([[1, 1, 3, 2],
           [2, 0, 1, 3],
           [3, 2, 0, 0],
           [0, 3, 2, 1]])




```python
np.argpartition(X, 2, axis=1)
```




    array([[1, 2, 3, 0],
           [2, 1, 0, 3],
           [3, 1, 0, 2],
           [3, 2, 1, 0]])


