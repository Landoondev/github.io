#  å›½ç§‘å¤§é«˜çº§äººå·¥æ™ºèƒ½ï¼ˆ2020 ç§‹å­£å­¦æœŸï¼‰ï¼ˆ2ï¼‰

## ðŸ¥‡1. ä¼ æ•™å£«ä¸Žé‡Žäººé—®é¢˜

> ä¼ æ•™å£«å’Œé‡Žäººé—®é¢˜é€šå¸¸æè¿°å¦‚ä¸‹ï¼šä¸‰ä¸ªä¼ æ•™å£«å’Œä¸‰ä¸ªé‡Žäººåœ¨æ²³çš„ä¸€è¾¹ï¼Œè¿˜æœ‰ä¸€æ¡èƒ½è½½ä¸€ä¸ªäººæˆ–è€…ä¸¤ä¸ªäººçš„èˆ¹ã€‚æ‰¾åˆ°ä¸€ä¸ªåŠžæ³•è®©æ‰€æœ‰çš„äººèƒ½æ¸¡åˆ°æ²³çš„å¦ä¸€å²¸ï¼Œè¦æ±‚åœ¨ä»»ä½•åœ°æ–¹é‡Žäººæ•°éƒ½ä¸èƒ½å¤šäºŽä¼ æ•™å£«çš„äººæ•°ã€‚
>
> a. ç²¾ç¡®åœ°å½¢å¼åŒ–è¯¥é—®é¢˜ï¼Œåªæè¿°ç¡®ä¿è¯¥é—®é¢˜æœ‰è§£æ‰€å¿…éœ€çš„ç‰¹æ€§ã€‚ç”»å‡ºè¯¥é—®é¢˜çš„å®Œå…¨çŠ¶æ€ç©ºé—´ã€‚
>
> b. ç”¨ä¸€ä¸ªåˆé€‚çš„æœç´¢ç®—æ³•å®žçŽ°å’Œæœ€ä¼˜åœ°æ±‚è§£è¯¥é—®é¢˜ï¼Œæ£€æŸ¥é‡å¤çŠ¶æ€æ˜¯ä¸ªå¥½ä¸»æ„å—?
>
> c. è¿™ä¸ªé—®é¢˜çš„çŠ¶æ€ç©ºé—´å¦‚æ­¤ç®€å•ï¼Œä½ è®¤ä¸ºä¸ºä»€ä¹ˆæ±‚è§£å®ƒå´å¾ˆå›°éš¾?

![](./20201226/15.png)

![](./20201226/16.png)

![](./20201226/17.png)

## 2. ç”°å¿Œèµ›é©¬é—®é¢˜

> ç”°å¿Œèµ›é©¬ï¼šç”°å¿Œå’Œé½çŽ‹èµ›é©¬ï¼Œæ¯äººæœ‰ä¸Šã€ä¸­ã€ä¸‹ä¸‰ä¸ªç­‰çº§çš„é©¬å„ä¸€åŒ¹ï¼Œä¸Šç­‰é©¬ä¼˜äºŽä¸­ç­‰é©¬ï¼Œä¸­ç­‰é©¬ä¼˜äºŽä¸‹ç­‰é©¬ï¼ŒåŒä¸€ç­‰çº§çš„é©¬ä¸­é½çŽ‹çš„é©¬ä¼˜äºŽç”°å¿Œçš„é©¬ã€‚æ¯”èµ›å…±è¿›è¡Œä¸‰å±€ï¼Œæ¯åŒ¹é©¬åªèƒ½å‚åŠ ä¸€å±€æ¯”èµ›ï¼Œæ¯å±€çš„èƒœè€…å¾— 1 åˆ†ï¼Œè´Ÿè€…å¾— -1 åˆ†ï¼Œæ¯”èµ›ç»“æžœä¸ºä¸‰å±€å¾—åˆ†ä¹‹å’Œã€‚
>
> ï¼ˆ1ï¼‰å†™å‡ºè¿™åœºåšå¼ˆä¸­çš„**å±€ä¸­äºº**ã€**ç­–ç•¥é›†åˆ**å’Œ**æ•ˆç”¨çŸ©é˜µ**
>
> ï¼ˆ2ï¼‰è¯·ç»™å‡ºç”°å¿Œèµ›é©¬çš„**ä»»æ„ä¸€ç§æ··åˆç­–ç•¥çº³ä»€å‡è¡¡è§£**ï¼Œå¹¶è®¡ç®—æ­¤æ—¶åŒæ–¹çš„æœŸæœ›å¾—åˆ†

**åšå¼ˆçš„è¦ç´ **

- å±€ä¸­äººï¼ˆPlayerï¼‰ï¼šç”°å¿Œå’Œé½çŽ‹ï¼ˆå±€ä¸­äººæ˜¯è‡ªç§çš„ç†æ€§äººï¼‰
  - åœ¨åšå¼ˆä¸­æœ‰æƒå†³å®šè‡ªå·±è¡ŒåŠ¨æ–¹æ¡ˆçš„åšå¼ˆå‚åŠ è€…
- ç­–ç•¥é›†åˆï¼ˆStrategy Setï¼‰
  - ç­–ç•¥ï¼šåšå¼ˆä¸­å¯ä¾›å±€ä¸­äººé€‰æ‹©çš„è¡ŒåŠ¨æ–¹æ¡ˆ
  - ç”°å¿Œèµ›é©¬ä¸­ç”°å¿Œçš„ç­–ç•¥é›†åˆï¼š{ä¸Šä¸­ä¸‹ã€ä¸Šä¸‹ä¸­ã€ä¸­ä¸Šä¸‹ã€ä¸­ä¸‹ä¸Šã€ä¸‹ä¸Šä¸­ã€ä¸‹ä¸­ä¸Š}

- æ•ˆç”¨å‡½æ•°ï¼ˆPayoffï¼‰
  - å¯¹æ¯ä¸ªå‚ä¸Žåšå¼ˆçš„å±€ä¸­äººï¼Œéƒ½æœ‰ä¸€ä¸ªç›¸åº”çš„æ•ˆç”¨å‡½æ•°
  - æ•ˆç”¨å‡½æ•°åœ¨é™æ€åšå¼ˆä¸­ä¸€èˆ¬æ˜¯å±€åŠ¿çš„å‡½æ•°
  - åœ¨åŠ¨æ€åšå¼ˆä¸­æ•ˆç”¨å‡½æ•°å¯èƒ½æ˜¯å±€åŠ¿çš„å‡½æ•°ï¼Œä¹Ÿå¯èƒ½è¿˜æœ‰ å…¶å®ƒå› ç´ ï¼Œæ¯”å¦‚æ—¶é—´
  - **æ¯ä¸ªå±€ä¸­äººçš„ç›®çš„éƒ½æ˜¯æœ€å¤§åŒ–è‡ªå·±çš„æ•ˆç”¨å‡½æ•°**
- çº³ä»€å‡è¡¡
  - å®šä¹‰ï¼šå¦‚æžœä¸€ä¸ªå±€åŠ¿ä¸‹ï¼Œæ¯ä¸ªå±€ä¸­äººçš„ç­–ç•¥éƒ½æ˜¯ç›¸å¯¹å…¶ä»–å±€ä¸­äºº**å½“å‰ç­–ç•¥**çš„æœ€ä½³åº”å¯¹ï¼Œåˆ™ç§°è¯¥å±€åŠ¿æ˜¯ä¸€ä¸ªçº³ä»€å‡è¡¡ã€‚
  - çº³ä»€å‡è¡¡æ˜¯åšå¼ˆçš„å‡è¡¡è§£
  - æ˜¯ä¸€ä¸ªåƒµå±€ï¼šè°åŠ¨è°åƒäºã€‚
    - å›šå¾’å›°å¢ƒçš„çº³ä»€å‡è¡¡ï¼šåŒæ–¹éƒ½å¦ç™½ã€‚
    - æ€§åˆ«ä¹‹æˆ˜ï¼šå¤«å¦»åŒæ–¹éƒ½åŒæ„çœ‹éŸ©å‰§ã€åŒæ–¹éƒ½åŒæ„çœ‹ä½“è‚²ã€‚
    - å‰ªåˆ€çŸ³å¤´å¸ƒï¼šä¸å­˜åœ¨
- æ··åˆç­–ç•¥çš„çº³ä»€å‡è¡¡ï¼š
  - æ¯ä¸ªå±€ä¸­äººä»¥æŸä¸ªæ¦‚çŽ‡åˆ†å¸ƒåœ¨å…¶ç­–ç•¥é›†åˆä¸­é€‰æ‹©ç­–ç•¥ï¼ˆå‚è€ƒç”°å¿Œèµ›é©¬ã€å‰ªåˆ€çŸ³å¤´å¸ƒï¼‰
- çº³ä»€å®šç†ï¼š
  - ä»»ä½•æœ‰é™åšå¼ˆéƒ½è‡³å°‘å­˜åœ¨ä¸€ä¸ªçº³ä»€å‡è¡¡ï¼ˆä¸ä¸€å®šæ˜¯çº¯ç­–ç•¥çº³ä»€å‡è¡¡ï¼Œä¾‹å¦‚å‰ªåˆ€-çŸ³å¤´-å¸ƒï¼‰
  - å¯»æ‰¾åšå¼ˆçš„çº³ä»€å‡è¡¡æ˜¯å›°éš¾çš„ï¼ˆè‡³å°‘ä»Žç®—æ³•è§’åº¦æ¥è®²æ˜¯è¿™æ ·ï¼‰

---

è§£ç­”ï¼š

![](./20201226/19.png)

![](./20201226/20.png)

## ðŸ¥‡3. æ ¼å­æ¸¸æˆ

![](./20201226/21.png)

>- å¼ºåŒ–å­¦ä¹ è€ƒæ ¼å­é¢˜ã€‚GridWorld ä¼šè€ƒä¸€ä¸ª 4 ä¸ªå‚æ•°çš„é¢˜ï¼Œå…ˆå†™å‡ºä¼°å€¼å‡½æ•°ï¼Œé—®å½“å‰çš„æœ€ä¼˜ç­–ç•¥æ˜¯ä»€ä¹ˆï¼Œç„¶åŽç­–ç•¥æå‡ã€‚é¢˜ç›®åªè¦ä¸¤æ­¥å°±æ”¶æ•›äº†ï¼Œè€Œä¸”æ­£å¥½æ˜¯ä¸ªæ•´æ•°
>- [å¼ºåŒ–å­¦ä¹ ä¹‹åŠ¨æ€è§„åˆ’ï¼ˆç­–ç•¥è¿­ä»£å’Œä»·å€¼è¿­ä»£ï¼‰](https://blog.csdn.net/weixin_42863507/article/details/107684293)

ï¼ˆ1ï¼‰**ç­–ç•¥ä¼°å€¼**ï¼šä½¿ç”¨**åŠ¨æ€è§„åˆ’æ–¹æ³•**è®¡ç®—å½“å‰ç­–ç•¥ä¸‹æ¯ä¸€æ ¼å­å¯¹åº”çš„çŠ¶æ€ä¼°å€¼ã€‚

æ¯ä¸ªåŠ¨ä½œä¼šå¯¼è‡´çŠ¶æ€è½¬ç§»ï¼Œä½†å½“åŠ¨ä½œä¼šå¯¼è‡´æ™ºèƒ½ä½“ç§»å‡ºç½‘æ ¼æ—¶ï¼ŒçŠ¶æ€ä¿æŒä¸å˜ã€‚å‡å®šæˆ‘ä»¬éœ€è¦è¯„ä¼°çš„ç­–ç•¥ä¸ºå‡ç­‰çš„éšæœºç­–ç•¥ï¼Œå³ï¼š

$$\pi(up\mid s) = \pi(down \mid s) = \pi(left \mid s) = \pi(right \mid s) = 1/4 = 0.25, \forall s \in S$$

ç­–ç•¥è¯„ä¼°çš„ç›®çš„å°±æ˜¯ç»™å®šä¸€ä¸ªç­–ç•¥ $\pi$ï¼Œè®¡ç®—å‡ºæ¯ä¸ªçŠ¶æ€åœ¨è¯¥ç­–ç•¥ä¸‹çš„ä»·å€¼å‡½æ•°ï¼Œå³è¯„ä¼°æ¯ä¸ªçŠ¶æ€çš„å¥½åã€‚

åŠ¨æ€è§„åˆ’æ–¹æ³•**ç»™å®šç­–ç•¥ä¸‹çŠ¶æ€ä¼°å€¼å‡½æ•°çš„æ›´æ–°è§„åˆ™**ï¼š

$$v_{k=1}(s) = \sum_{a \in A} \pi(a \mid s)(\sum_{s', r}(p(s', r \mid s, a)[r + \gamma v_k(s')]))$$

- $S$ï¼šéžç»ˆæ­¢çŠ¶æ€é›† $S=\{1, 2, 3, 4\}$
- $A$ï¼šå¯¹äºŽ $S$ ä¸­æ¯ä¸ªçŠ¶æ€æœ‰ 4 ç§å¯èƒ½çš„åŠ¨ä½œ $A = \{ up, down, left, right \}$
- $P$ï¼šå½“å‰çŠ¶æ€ $s$ é€‰æ‹©ä»»æ„åŠ¨ä½œ $a$ åŽåªæœ‰ä¸€ä¸ªç¡®å®šçš„ä¸‹ä¸€çŠ¶æ€å’Œæ”¶ç›Šã€‚å› æ­¤ $p(s', r \mid s, a) = 1$ã€‚
- $R$ï¼šåœ¨è¾¾åˆ°ç»ˆæ­¢çŠ¶æ€ä¹‹å‰ï¼Œæ‰€æœ‰çš„åŠ¨ä½œæ”¶ç›Š $R=1$ã€‚
- $\gamma$ï¼š$\gamma=1$ è¡¨ç¤ºæ— æŠ˜æ‰£ã€‚

![](./20201226/22.jpeg)

å‡å¦‚çŽ¯å¢ƒå·²çŸ¥ $p(s', r \mid s, a)$ å·²çŸ¥ï¼ŒçŠ¶æ€ä¼°å€¼å‡½æ•°çš„æ±‚è§£æ–¹å¼æœ‰ï¼š

- **çº¿æ€§æ–¹ç¨‹ç»„æ³•ï¼ˆæœ¬é¢˜è¦æ±‚ï¼‰**
- è¿­ä»£ç­–ç•¥ä¼°å€¼

> ï¼ˆ1ï¼‰è§£æ–¹ç¨‹ç»„ï¼š
>
> $$V_1 = \frac{1}{4}(0+V_1+V_1+V_2)-1$$
>
> $$V_2 = \frac{1}{4}(V_2 + V_4 + V_1 + V_3)-1$$
>
> $$V_3 = \frac{1}{4} (0 + V_3 + V_2 + V_3)-1$$
>
> $$V_4 = \frac{1}{4}(V_2 + V_4 + V_4 + V_4)-1$$
>
> è§£ä¹‹å¾—ï¼š$V_1=-8, V_2=-12, V_3 = -8, V_4 = -16.$
>
> ï¼ˆ2ï¼‰ç­–ç•¥æå‡ï¼ˆç¬¬ä¸€é—®å¯¹åº”çš„è´ªå¿ƒç­–ç•¥ï¼‰ï¼š
>
> ![](./20201226/23.png)
>
> ï¼ˆ3ï¼‰æœ€ä¼˜ç­–ç•¥åŠå…¶ç›¸åº”çš„çŠ¶æ€ä¼°å€¼ï¼š
>
> åŸºäºŽï¼ˆ2ï¼‰é—®ç»§ç»­è¿­ä»£ã€‚
>
> $$V_1 =\frac{1}{1} (0)-1$$
>
> $$V_2 = \frac{1}{2} (V_1 + V_3)-1$$
>
> $$V_3 = \frac{1}{1}(0)-1$$
>
> $$V_4 = \frac{1}{1}(V_2)-1$$
>
> è§£ä¹‹å¾—ï¼š$V_1=-1, V_2 = -2, V_3=-1, V_4=-3.$
>
> ![](./20201226/24.png)

